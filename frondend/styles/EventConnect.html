<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EventConnect</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-indigo-50 to-blue-50 min-h-screen flex items-center justify-center p-4">
    <div class="container max-w-2xl bg-white rounded-2xl shadow-lg p-8 transition-all duration-300 hover:shadow-xl">
        <div class="text-center mb-8">
            <h1 class="text-3xl font-bold text-indigo-900 mb-3">Welcome to EventConnect</h1>
            <p class="text-gray-600 text-lg">Connect with like-minded individuals at your event</p>
        </div>

        <div class="grid md:grid-cols-2 gap-6">
            <!-- Code Entry Section -->
            <div class="space-y-4">
                <label class="block text-sm font-semibold text-gray-700">Enter Code</label>
                <div class="relative">
                    <input type="text" id="code-input" maxlength="4" 
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200"
                           placeholder="Enter 4-digit code">
                    <button id="qr-button" 
                            class="absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-indigo-600 hover:bg-indigo-700 rounded-lg transition-colors duration-200">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"></path>
                        </svg>
                    </button>
                </div>
                <div id="qr-reader" class="hidden mt-4"></div>
            </div>

            <!-- Search Section -->
            <div class="space-y-4">
                <label class="block text-sm font-semibold text-gray-700">Search Participants</label>
                <div class="relative">
                    <input type="text" id="search-input"
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200"
                           placeholder="Search by name or interests">
                    <div id="search-results" class="hidden absolute top-full left-0 right-0 mt-2 bg-white rounded-lg shadow-lg border border-gray-200 max-h-60 overflow-y-auto"></div>
                </div>
            </div>
        </div>

        <!-- Message Toast -->
        <div id="toast" class="fixed bottom-4 right-4 hidden bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg transition-all duration-300"></div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const codeInput = document.getElementById('code-input');
            const searchInput = document.getElementById('search-input');
            const searchResults = document.getElementById('search-results');
            const toast = document.getElementById('toast');

            // Code input formatting and validation
            codeInput.addEventListener('input', (e) => {
                e.target.value = e.target.value.replace(/[^0-9]/g, '').slice(0, 4);
                if (e.target.value.length === 4) {
                    showToast('Connecting with participant...');
                }
            });

            // Mock search functionality
            const mockParticipants = [
                { name: 'Alice Chen', interests: 'AI, Machine Learning' },
                { name: 'Bob Smith', interests: 'Blockchain, Web3' },
                { name: 'Carol Davis', interests: 'UX Design, Product Management' }
            ];

            searchInput.addEventListener('input', (e) => {
                const query = e.target.value.toLowerCase();
                if (query.length < 2) {
                    searchResults.classList.add('hidden');
                    return;
                }

                const filtered = mockParticipants.filter(p => 
                    p.name.toLowerCase().includes(query) || 
                    p.interests.toLowerCase().includes(query)
                );

                searchResults.innerHTML = filtered.map(p => `
                    <div class="p-3 hover:bg-gray-50 cursor-pointer border-b last:border-b-0">
                        <div class="font-medium text-gray-800">${p.name}</div>
                        <div class="text-sm text-gray-600">${p.interests}</div>
                    </div>
                `).join('');

                searchResults.classList.remove('hidden');
            });

            // Hide search results when clicking outside
            document.addEventListener('click', (e) => {
                if (!searchResults.contains(e.target) && e.target !== searchInput) {
                    searchResults.classList.add('hidden');
                }
            });

            // Toast message function
            function showToast(message) {
                toast.textContent = message;
                toast.classList.remove('hidden');
                toast.classList.add('animate-bounce');
                
                setTimeout(() => {
                    toast.classList.remove('animate-bounce');
                    toast.classList.add('hidden');
                }, 3000);
            }

            // QR Code button handler
            document.getElementById('qr-button').addEventListener('click', () => {
                showToast('QR Scanner activated! (Mock functionality)');
            });
        });
    </script>
</body>
</html>